\chapter{Introduction}
%% TODO:
% - pähkinänkuoressa koko setti tänne!
% - tästä hyötyä? http://dl.acm.org/citation.cfm?id=2307649
% - pitäiskö tänne lisätä että Kindergarten UI:n viitataan yleisesti applikaationa tässä viritelmässä?







% ### yleistä taustaa (esim. on enemmän ja enemmän verkon kautta käytettäviä mobiilipalveluita. tämä vaatii sen että verkko toimii, ihmisten arki ja sen vuorovaikutustilanteen ovat nykyään hyvin verkkovälitteisiä)
% Maailma digitalisoituu ympärillämme, yhä useampi työtehtävistä ja vapaa-ajan aktiviteeteista liittyy jotenkin digitaalisiin palveluihin ja laitteisiin. Harva näistä toimii täysin ilman Internetin tukea
The world is digitalizing around us on a always quicker pace. More and more of our work tasks and everyday activities are evolvingly affiliated to digital devices and services. Most of these things are often useless without connectivity to a broader context, usually the Internet.

% Mobile usage has surpassed desktop usage in <lähde>, on jo iso joukko käyttäjiä joiden ainoa tie Internetiin on heidän mobiililaitteensa <lähde>. Joku viittaus "seuraavaan miljardiin netin käyttäjään?""

Age of the desktop hegemony is already over. Globally over a third of the Internet usage is done with mobile devices (smartphones and tablets) \cite{statcounter_global_????}. Unlike as in desktop devices, which usually are operated from static location aided by physical access to the Internet, mobile devices often travel with their owners where ever they might go. That creates challenges for connectivity, which is nowadays essential for device proper usage.

% Mobiilinetti-coverage ei optimaalinen -> verkkokatkoksia tulee, laadullisia ja kokonaan yhteyden katoamisia. Näiltä ei voida välttyä.
The problem is that mobile broadband coverage varies within different locations. When mobile device is not in the coverage area of an Wireless Local Area Network, device relies on a possible mobile broadband connection. When moving away from the nearest base station the reception of signal weakens. Mobile device user experiences this as an increased latency times, lower data transferring speeds, or even as a total blackout of the broadband service. When moving away from highly populated areas this is inevitable, since not all locations are to be covered properly while keeping cost efficiency on a sane level, especially in countries with large acreage but low population, like Finland. However digitalization of services is even more important on a places like this, since supplying physical services to areas with low population density is expensive. 


% Tämä dippa tarkastelee tätä perusyhtälöä ohjelmistonkehittäjän kannalta - kuinka ja millä tasolla verkon laadun huonontumiseen/kokonaiseen katkeamiseen tulisi varautua? Onko mahdollista abstarhoida verkon laadun vaihteleminen käyttäjältä piiloon kokonaan, ja hallita sen tuomat ongelmat applikaation sisäisesti? Millaisia resursseja tällainen vaatii ohjelmiston kehitysvaiheessa? Entä mahdollinen lisäkuorma laitteille?




\section{Context}
This thesis studies one real-life case of implementing offline support to already existing system created for supporting kindergarten personnel and the parents of daycare children, the Päikky system. Päikky is used by various kindergartens in Finland and its key feature is to provide passage control mechanism for the kindergarten's children.

The Päikky system is owned and managed by MukavaIT Oy (later referred as the \textit{client organization} on this thesis), a Finnish start-up company. The client organization has bought consulting and development to the Päikky from \textit{Futurice}, where the writer of this thesis has also worked as a part of the Päikky development team.

Currently in Finland families are charged from the kindergarten service on a fixed price basis. Every child with similar care plans are charged with equal amount. Upcoming changes in Finnish daycare legislation changes the basis for payment to be hour rate based, which creates the need for systems like Päikky that are able to track the children's attendance on the kindergarten for billing purposes. % viitehox, lakimuutoksesta viite?

On a high level Päikky consists of four modules: \textit{Family UI, Kindergarten UI, Manager UI} and the \textit{backend}. System under this thesis' analysis is the \textit{Kindergarten UI}, which is mobile-first designed web application, key activity being marking the children and daycare personnel in or out based on their presence on the kindergarten. Kindergarten nurses uses the Kindergarten UI on smartphones every time a child enters or leaves the kindergarten. As this is an additional task to their current workload, it has to be as effortless as possible, especially when it is performed tens of times per day. % IMPR tänne selitystä/viite mobile firstiin?

%\section{Motivation}
Digital services are more and more common in business critical tasks for a emerging amount of applications. But how to use services and devices dependent on the Internet with coincidental connection? With the increasing mobile device usage, adding offline support at least in some level will not be an uncommon task for any web developer.

This thesis studies the reasoning and issues of implementing the offline mode to Päikky, and find the possible missteps that were made. Ultimately this thesis tries to find design guidelines for both in user experience and in software development -wise, so other developers would be able to achieve offline support implementation with less work.

%\section{Scope}
The whole Internet is build on top of the client-server -paradigm \cite{berson_client-server_1992}. In this thesis we focus on the client end of this paradigm – which is the Kindergarten UI on the context of Päikky – and research ways of dealing the connectivity problem in there while delimiting the server out of this thesis' context. 

On the client we will focus on how to deal with the issue on the web application level inside the browser environment, ignoring the possible solutions that could be done on the device platform tier. Therefore results of this thesis will apply browsers in desktop computers, tablet devices and mobile phones.






\section{Research Objectives}
The objective of this research is to find useful and working fallback mechanisms for connectivity loss in single-page web applications, in both from the user experience perspective and from the developer's viewpoint. The state where the application loses the connectivity to the Internet is referred on this thesis as an \textbf{offline mode}. This thesis implements and evaluates artifact which allows the user to continue their tasks when the connection is lost and the application enters the offline mode.

From software development point of view the question is, how to deliver seamless user experience, even when the connectivity is bad or nonexistent? How much resources can this reserve on the development phase? Is it possible to abstract the connection quality completely away and handle the issues with connection internally on the application level, invisible to the user?

From the user experience perspective thesis concentrates on how to notify the user about the loss of Internet connection. Does the user need to be notified at all? If the user is notified, what is exactly the message that needs to be told? 

%\section{Research Question}
This thesis answers to the following question: 
\begin{quote}
	\textit``How to develope fallback mechanisms efficiently for Internet connection shortages on a single-page web application to support user experience''}
\end{quote}

Based on the research, implementation and evaluation done on this thesis, a recommendations for other developers are presented on the form of design guidelines. These guidelines are worth taking into consideration when creating any kind of single-page application which is aimed to be used with mobile devices.




\section{Structure of the thesis}
% In here well be described contents of each chapter, because that's how it has always been done.

\textit{Chapter 2} opens up the background in which from the themes of this thesis are originating from. The research gap in which this thesis resides is also introduced.

\textit{Chapter 3} describes the real-life case which is in a vital role on this thesis. Parts that are essential for understanding the concepts discussed on this thesis are opened thoroughly.

\textit{Chapter 4} introduces the methods used to conduct the research done on this thesis. 

On \textit{Chapter 5} technical solutions implemented are summed up and described. On \textit{Chapter 6} these solutions are evaluated, from both technical viewpoint and from the user experience perspective. Evaluation is done based on user interviews conducted during this thesis.

\textit{Chapter 7} presents the design guidelines formed based on the evaluation done on the previous chapters. Also aspects noted during the evaluation but which were too indeterminate to be design guidelines are discussed on the same chapter.

Conclusions done based on the implementation and the evaluation of the offline support are presented on the \textit{Chapter 8}.




%% Tommi-input: 
% "rajaus pitää selittää johdannossa,tiivistössä ja abstraktissa"
% -mihin liittyy, konteksti
% -ongelma, mitä tehdään kun yhteys katoaa
% -ratkaisu, “tässä diplomityössä tehdään”
% -arviointi, “miten hyvä tästä tuli”




% ### - ongelmakentän kuvaus, mikä on tutkimusta vaativa ongelma (kentän katkeaminen ja minkälaisia ongemia se aiheuttaa) ja se ajankohtaisuus ja yleisyys. Ongelma on että ei tiedetä kovin hyvin että kuinka kentän katkeamisen vaikutukset pitäisi ottaa sovelluskehityksessä huomioon niin että käyttäjän tavoitteet sovelluksen käytölle täyttyvät kentän katkeamisesta huolimatta. 






% Tässä dipassa ongelmaa lähdetään selvittämään case studyllä liittyen Päikky-järjestelmään. <Pieni pohjustus järjestelmästä>
% - kerro miten lähdet tässä tutkimuksessa ratkaisemaan ongelmaa. Case tutkimus päiväkotisoftalle. Tehtiin päiväkotisofta, mutta huomattiin että verkonkatkeilu muodostaa merkittävän ongelman (kerro myös konkreettisesti mitä ongelmia katkeilu synnytti). Sitä ongelmaa lähdettiin sitten ratkaisemaan. Softan implementointi ja real life kenttäkoe implementoinnin vaikutuksista 


% <Päikyn ei-offline-versiossa ilmenneet ongelmat>

% <Lyhyesti offline-moden implementoinnista ja tosimaailman kenttäkokeesta>

% Offline-moden vaikutukset käytössä <haastatteluista rojua tähän>

% META:
% pitäisikö intron olla oma kokonaisuus? tarvitsisiko myöhemmissä kappaleissa vielä erikseen avata päikky-järjestelmää, vai voiko introssa käydä perinpohjaisesti läpi päikyn ja sitte that's it? Kävi myös mielessä pitäisikö ennen releated researchia olla yksi kappale nimenomaan Päikky-järjestelmän käytöstä
